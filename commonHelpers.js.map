{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst inputEl = document.querySelector('#datetime-picker');\nconst startBtnEl = document.querySelector('[data-start]');\nconst daysEl = document.querySelector('[data-days]')\nconst hoursEl = document.querySelector('[data-hours]')\nconst minutesEl = document.querySelector('[data-minutes]')\nconst secondsEl = document.querySelector('[data-seconds]')\nstartBtnEl.setAttribute('disabled', '')\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\tonClose(selectedDates) {\n\t\tif (selectedDates[0] <= new Date()) {\n\t\t\tiziToast.error({\n\t\t\t\tclose: false,\n\t\t\t\ttimeout: 3000,\n\t\t\t\tposition: 'topRight',\n\t\t\t\tprogressBar: false,\n\t\t\t\tmessage: 'Please choose a date in the future',\n\t\t\t });\n\t\t\tstartBtnEl.setAttribute('disabled', '')\n\t\t\treturn;\n\t\t}\n\t\tuserSelectedDate = selectedDates[0];\n\t\tstartBtnEl.removeAttribute('disabled');\n\t},\n};\n\nflatpickr(inputEl, options);\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconst addLeadingZero = value => {\n\treturn String(value).padStart(2, '0');\n}\n\nconst onStartClick = () => {\n\tinputEl.setAttribute('disabled', '')\n\tstartBtnEl.setAttribute('disabled', '')\n\n\tconst intID = setInterval(() => {\n\t\tconst timeToEnd = userSelectedDate - Date.now();\n\t\tconst timeObj = convertMs(timeToEnd);\n\t\tdaysEl.textContent = addLeadingZero(timeObj.days);\n\t\thoursEl.textContent = addLeadingZero(timeObj.hours);\n\t\tminutesEl.textContent = addLeadingZero(timeObj.minutes);\n\t\tsecondsEl.textContent = addLeadingZero(timeObj.seconds);\n\t\tif (timeToEnd < 1000) {\n\t\t\tclearInterval(intID);\n\t\t\tinputEl.removeAttribute('disabled');\n\t\t}\n\t}, 1000)\n\n}\n\nstartBtnEl.addEventListener('click', onStartClick)\n\n"],"names":["inputEl","startBtnEl","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","options","selectedDates","iziToast","flatpickr","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","value","onStartClick","intID","timeToEnd","timeObj"],"mappings":"+IAMA,MAAMA,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EACzDJ,EAAW,aAAa,WAAY,EAAE,EACtC,IAAIK,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAClB,QAAQC,EAAe,CACtB,GAAIA,EAAc,CAAC,GAAK,IAAI,KAAQ,CACnCC,EAAS,MAAM,CACd,MAAO,GACP,QAAS,IACT,SAAU,WACV,YAAa,GACb,QAAS,oCACb,CAAK,EACFR,EAAW,aAAa,WAAY,EAAE,EACtC,MACA,CACDK,EAAmBE,EAAc,CAAC,EAClCP,EAAW,gBAAgB,UAAU,CACrC,CACF,EAEAS,EAAUV,EAASO,CAAO,EAE1B,SAASI,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,MAAMC,EAAiBC,GACf,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,EAG/BC,EAAe,IAAM,CAC1BnB,EAAQ,aAAa,WAAY,EAAE,EACnCC,EAAW,aAAa,WAAY,EAAE,EAEtC,MAAMmB,EAAQ,YAAY,IAAM,CAC/B,MAAMC,EAAYf,EAAmB,KAAK,IAAG,EACvCgB,EAAUX,EAAUU,CAAS,EACnCnB,EAAO,YAAce,EAAeK,EAAQ,IAAI,EAChDnB,EAAQ,YAAcc,EAAeK,EAAQ,KAAK,EAClDlB,EAAU,YAAca,EAAeK,EAAQ,OAAO,EACtDjB,EAAU,YAAcY,EAAeK,EAAQ,OAAO,EAClDD,EAAY,MACf,cAAcD,CAAK,EACnBpB,EAAQ,gBAAgB,UAAU,EAEnC,EAAE,GAAI,CAER,EAEAC,EAAW,iBAAiB,QAASkB,CAAY"}